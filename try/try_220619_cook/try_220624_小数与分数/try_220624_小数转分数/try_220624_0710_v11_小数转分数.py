import math

def è·å–æœ€å¤§å…¬çº¦æ•°(a,b):
    if not isinstance(a,int) or not isinstance(b,int):
        raise TypeError("must be int")
    
#è¿™é‡Œè¦åŠ æ‹¬å·å½¢æˆå…ƒç»„ ä¸ç„¶è¢«é€—å·åˆ†éš”äº†
#å¦‚æ­¤ å³æ“ä½œæ•°æœ‰ä¸‰ä¸ª å·¦è¾¹åªæœ‰ä¸¤ä¸ª å°±å¯¹ä¸ä¸Šäº†      
    smaller,bigger=(a,b) if a<=b else (b,a)
    
    while True:
        now=bigger%smaller
        if now==0:break
        bigger,smaller=smaller,now
    
    return smaller


def å°æ•°è½¬åˆ†æ•°(å°æ•°):
    å–å‡ºæ•´æ•°éƒ¨åˆ†=int(å°æ•°)
    å°æ•°ä½æ•°=len(str(å°æ•°))-len(str(å–å‡ºæ•´æ•°éƒ¨åˆ†))-1
    if å°æ•°ä½æ•°<1 or å°æ•°==å–å‡ºæ•´æ•°éƒ¨åˆ†:raise ValueError("âŒä½ è¿™ä¸æ˜¯å°æ•°")


    åˆ†æ•°åˆ†éƒ¨ä¹‹åˆ†æ¯=10**å°æ•°ä½æ•°
    
#a=3.36
#b=str(a).split["."]
#b[1]
    å–å‡ºå°æ•°éƒ¨åˆ†=å°æ•°*åˆ†æ•°åˆ†éƒ¨ä¹‹åˆ†æ¯-å–å‡ºæ•´æ•°éƒ¨åˆ†*åˆ†æ•°åˆ†éƒ¨ä¹‹åˆ†æ¯
    åˆ†æ•°åˆ†éƒ¨ä¹‹åˆ†å­=int(å–å‡ºå°æ•°éƒ¨åˆ†)
    	
    åˆ†å­åˆ†æ¯æœ€å¤§å…¬çº¦æ•°=è·å–æœ€å¤§å…¬çº¦æ•°(åˆ†æ•°åˆ†éƒ¨ä¹‹åˆ†å­,åˆ†æ•°åˆ†éƒ¨ä¹‹åˆ†æ¯)
  
    çº¦åˆ†åçš„åˆ†å­=åˆ†æ•°åˆ†éƒ¨ä¹‹åˆ†å­//åˆ†å­åˆ†æ¯æœ€å¤§å…¬çº¦æ•°
    
    æœ€ç»ˆåˆ†æ¯=çº¦åˆ†åçš„åˆ†æ¯=åˆ†æ•°åˆ†éƒ¨ä¹‹åˆ†æ¯//åˆ†å­åˆ†æ¯æœ€å¤§å…¬çº¦æ•°
    æœ€ç»ˆåˆ†å­=æ ¹æ®åˆ†æ•°æ•´éƒ¨åˆ†å­è¦å˜åŒ–æˆ=å–å‡ºæ•´æ•°éƒ¨åˆ†*æœ€ç»ˆåˆ†æ¯+çº¦åˆ†åçš„åˆ†å­
    æœ€ç»ˆåˆ†æ•°å­—ç¬¦ä¸²=f"{æœ€ç»ˆåˆ†å­}/{æœ€ç»ˆåˆ†æ¯}"
    
    return æœ€ç»ˆåˆ†æ•°å­—ç¬¦ä¸²


#å•å‚æ•°ç‰ˆâ€”â€”æ¥æ”¶åˆ†æ•°çš„å­—ç¬¦ä¸²å½¢å¼ç‰ˆâ€”â€”è¿”å›åŒå½¢å¼
def è·å–æœ€ç®€åˆ†æ•°(åŸåˆ†æ•°çš„å­—ç¬¦ä¸²å½¢å¼):
    åŸåˆ†å­,åŸåˆ†æ¯=tuple(map(int,åŸåˆ†æ•°çš„å­—ç¬¦ä¸²å½¢å¼.split("/")))
    æœ€å¤§å…¬çº¦æ•°=è·å–æœ€å¤§å…¬çº¦æ•°(åŸåˆ†å­,åŸåˆ†æ¯)
    åˆ†å­çº¦åˆ†å=åŸåˆ†å­//æœ€å¤§å…¬çº¦æ•°
    åˆ†æ¯çº¦åˆ†å=åŸåˆ†æ¯//æœ€å¤§å…¬çº¦æ•°
    
    return f"{åˆ†å­çº¦åˆ†å}/{åˆ†æ¯çº¦åˆ†å}"

#å•å‚æ•°ç‰ˆâ€”â€”æ¥æ”¶åˆ†æ•°çš„åˆ—è¡¨å½¢å¼ç‰ˆâ€”â€”è¿”å›åŒå½¢å¼
def åˆ†æ•°çº¦åˆ†(åˆ†æ•°):
    åˆ†æ•°=list(map(int,åˆ†æ•°))
    a=è·å–æœ€å¤§å…¬çº¦æ•°(åˆ†æ•°[0],åˆ†æ•°[1])
    æœ€ç»ˆçº¦åˆ†åå­—ç¬¦ä¸²åˆ—è¡¨=[str(int(i/a)) for i in åˆ†æ•°]
    
    return æœ€ç»ˆçº¦åˆ†åå­—ç¬¦ä¸²åˆ—è¡¨


def è·å–æœ€å°å…¬å€æ•°(a,b):
    c=è·å–æœ€å¤§å…¬çº¦æ•°(a,b)
    
    return int(a*b/c)


def åˆ†æ•°ç›¸åŠ å‡(åˆ†æ•°ä¸€,åˆ†æ•°äºŒ,è¿ç®—æ³•):
    åˆ†å­ä¸€,åˆ†æ¯ä¸€=åˆ†æ•°ä¸€[0],åˆ†æ•°ä¸€[1]
    åˆ†å­äºŒ,åˆ†æ¯äºŒ=åˆ†æ•°äºŒ[0],åˆ†æ•°äºŒ[1]
    
    å…±åŒåˆ†æ¯=è·å–æœ€å°å…¬å€æ•°(åˆ†æ¯ä¸€,åˆ†æ¯äºŒ)
    
    åˆ†å­ä¸€å˜åŒ–=int(åˆ†å­ä¸€*å…±åŒåˆ†æ¯/åˆ†æ¯ä¸€)
    åˆ†å­äºŒå˜åŒ–=int(åˆ†å­äºŒ*å…±åŒåˆ†æ¯/åˆ†æ¯äºŒ)
    
    if è¿ç®—æ³•=="+":
        åˆ†å­å’Œæˆ–å·®=åˆ†å­ä¸€å˜åŒ–+åˆ†å­äºŒå˜åŒ–
    else:åˆ†å­å’Œæˆ–å·®=åˆ†å­ä¸€å˜åŒ–-åˆ†å­äºŒå˜åŒ–
    
    return f"{åˆ†å­å’Œæˆ–å·®}/{å…±åŒåˆ†æ¯}"


def æ— é™å¾ªç¯å°æ•°è½¬åˆ†æ•°_æ‹†è§£(æ— é™å¾ªç¯å°æ•°,å¾ªç¯ä½“é•¿åº¦=1):
    å¾ªç¯ä½“=str(æ— é™å¾ªç¯å°æ•°)[-å¾ªç¯ä½“é•¿åº¦:]
    
    a=æ— é™å¾ªç¯å°æ•°
        
    #å–å‡ºaçš„æ•´æ•°éƒ¨åˆ†å­˜è¿›b
    b=int(a)
    input(f"\nå–å‡ºaçš„æ•´æ•°éƒ¨åˆ†å­˜è¿›b:{b}")
    
    #aä»å°æ•°ç‚¹ååˆ°é¦–æ¬¡å¾ªç¯ä½“ç»“æŸä½å…±nä½
    #å³açš„ä½¿ç”¨å°æ•°éƒ¨åˆ†å…±nä½
    n=len(str(a))-len(str(b))-1
    #n=len(str(a).split(".")[-1])
    input(f"aä»å°æ•°ç‚¹ååˆ°é¦–æ¬¡å¾ªç¯ä½“ç»“æŸä½å…±nä½: {n}")
    
    #å–å‡ºaçš„ä½¿ç”¨å°æ•°éƒ¨åˆ†çš„æ•´æ•°å½¢å¼å­˜è¿›c
    #ï¼ˆæˆ–å­—ç¬¦ä¸²å½¢å¼ï¼‰
    
    #cæ•´æ•°å½¢å¼ä¹‹æ•°å€¼è®¡ç®—æ³•ï¼ˆé»˜è®¤ï¼‰
    c=math.ceil(a*10**n-b*10**n)
    
    #cæ•´æ•°å½¢å¼ä¹‹å­—ç¬¦ä¸²åˆ‡ç‰‡æ³•
    #c=int(str(a).split(".")[-1])
    
    input(f"å–å‡ºaçš„ä½¿ç”¨å°æ•°éƒ¨åˆ†çš„æ•´æ•°å½¢å¼å­˜è¿›c: {c}")
    
    #å¾ªç¯ä½“çš„å­—ç¬¦ä¸²å½¢å¼ä¸ºdï¼ˆå¾ªç¯ä½“åº”å½“æ˜¯å­—ç¬¦ä¸²å½¢å¼ å› ä¸ºå­˜åœ¨å¤´ä½ä¸º0çš„æƒ…å†µï¼‰
    #è€Œä¸”ä¸‡ç‰©æœ¬è´¨åœ¨äºå­—ç¬¦ä¸²
    d=str(a)[-å¾ªç¯ä½“é•¿åº¦:]
    input(f"å¾ªç¯ä½“çš„å­—ç¬¦ä¸²å½¢å¼ä¸ºd: {d}")
    
    #é¦–æ¬¡å¾ªç¯ä½“ä¸å°æ•°ç‚¹çš„ä¹‹é—´çš„ç©ºå³è·ç¦»ä¸ºe
    e=n-å¾ªç¯ä½“é•¿åº¦
    input(f"é¦–æ¬¡å¾ªç¯ä½“ä¸å°æ•°ç‚¹çš„ä¹‹é—´çš„ç©ºå³è·ç¦»ä¸ºe: {e}")
    
    #éœ€è¦ç¼©å°çš„å€æ•°ä¸ºf
    f=10**e
    input(f"éœ€è¦ç¼©å°çš„å€æ•°ä¸ºf: {f}")
    
    #ç”±å¾ªç¯ä½“å¾—åˆ°çš„åˆ†æ•°éƒ¨åˆ†çš„å­—ç¬¦ä¸²å½¢å¼ä¸ºg
    g=f"{å¾ªç¯ä½“}/{str(9)*å¾ªç¯ä½“é•¿åº¦}"
    input(f"ç”±å¾ªç¯ä½“å¾—åˆ°çš„åˆ†æ•°éƒ¨åˆ†çš„å­—ç¬¦ä¸²å½¢å¼ä¸ºg: {g}")
   	
    g=è·å–æœ€ç®€åˆ†æ•°(g)+\
    (f"/{f}" if f!=1 else str())
    input(f"gçš„æœ€ç®€åˆ†æ•°å½¢å¼ä¸ºg: {g}")
    
    
    #é¦–æ¬¡å¾ªç¯ä½“ä¸å°æ•°ç‚¹ä¹‹é—´çš„ç©ºéƒ¨æ‹†è§£å‡ºæ¥çš„æœ‰é™æ•´æ•°çš„æ•´æ•°å½¢å¼ä¸ºh
    #ï¼ˆæˆ–å­—ç¬¦ä¸²å½¢å¼ï¼‰    
    #hæ•´æ•°å½¢å¼ä¹‹ç›¸å‡æ³•ï¼ˆé»˜è®¤ï¼‰
    h=h_æ•´æ•°å½¢å¼ä¹‹ç›¸å‡æ³•=int(c-int(d))    
    input("é¦–æ¬¡å¾ªç¯ä½“ä¸å°æ•°ç‚¹ä¹‹é—´çš„ç©ºéƒ¨æ‹†è§£å‡ºæ¥çš„æœ‰é™æ•´æ•°çš„æ•´æ•°å½¢å¼ä¸ºh\n"
    f"hæ•´æ•°å½¢å¼ä¹‹ç›¸å‡æ³•ï¼ˆé»˜è®¤ï¼‰: {h}")        
    #hæ•´æ•°å½¢å¼ä¹‹æ•°å€¼æˆªå–æ³•ï¼ˆä¸ä¹‹ä¸åŒ å­—ç¬¦ä¸²æˆªå–æ³•æ˜¯åˆ‡ç‰‡ï¼‰
    print("ã€%s-%sã€‘"%(c,d))
    h_æ•´æ•°å½¢å¼ä¹‹æ•°å€¼æˆªå–æ³•=c//(10**(n-e))
    input(f"hæ•´æ•°å½¢å¼ä¹‹æ•°å€¼æˆªå–æ³•: {h_æ•´æ•°å½¢å¼ä¹‹æ•°å€¼æˆªå–æ³•}")
    print("ã€%sä»å¤´å‘å°¾åªç•™%sä½ã€‘"%(c,e))
    
    #hæ•´æ•°å½¢å¼ä¹‹å­—ç¬¦ä¸²åˆ‡ç‰‡æ³•
    #h=int(str(c)[:-e])
    
    #ç©ºéƒ¨æ‹†è§£å‡ºæ¥çš„æ•´æ•°å½¢å¼hè¿›è¡Œè¿˜åŸ
    #æ–¹æ³•æ˜¯ä»¥hä½œä¸ºåˆ†å­ åˆ†æ¯ä¸º10çš„næ¬¡æ–¹ å¾—åˆ°è¿™æ ·çš„åˆ†æ•°å½¢å¼
    #ç„¶åå¾—åˆ°è¿™åˆ†æ•°çš„æœ€ç®€åˆ†æ•°å½¢å¼çš„å­—ç¬¦ä¸²å½¢å¼
    #ä»è€Œè¿˜åŸä¸ºi
    
    #å½“ä½¿ç”¨hæ•´æ•°å½¢å¼ä¹‹ç›¸å‡æ³•ï¼ˆé»˜è®¤ï¼‰
    i=i_ç›¸å‡æ³•=åˆ†æ•°çº¦åˆ†([h,10**n]) if h!=0 else 0
    input(f"ç©ºéƒ¨æ‹†è§£å‡ºæ¥çš„æ•´æ•°å½¢å¼hè¿›è¡Œè¿˜åŸä¸ºi\n"
    f"iå­—ç¬¦ä¸²åˆ—è¡¨å½¢å¼ä¹‹å½“hä½¿ç”¨ç›¸å‡æ³•ï¼ˆé»˜è®¤ï¼‰: {i}")
    
    #å½“ä½¿ç”¨hæ•´æ•°å½¢å¼ä¹‹æ•°å€¼æˆªå–æ³•
    i_æ•°å€¼æˆªå–æ³•=åˆ†æ•°çº¦åˆ†([h_æ•´æ•°å½¢å¼ä¹‹æ•°å€¼æˆªå–æ³•,10**e]) if h_æ•´æ•°å½¢å¼ä¹‹æ•°å€¼æˆªå–æ³•!=0 else 0
    input(f"iå­—ç¬¦ä¸²åˆ—è¡¨å½¢å¼ä¹‹å½“hä½¿ç”¨æ•°å€¼æˆªå–æ³•: {i_æ•°å€¼æˆªå–æ³•}")
    
    
    i="/".join(i) if h!=0 else 0
    input(f"ç©ºéƒ¨hè¿˜åŸæˆçš„åˆ†æ•°çš„æœ€ç®€åˆ†æ•°å½¢å¼çš„å­—ç¬¦ä¸²å½¢å¼ä¸ºi: {i}")
    
    return b,i,g
    
    
def æ— é™å¾ªç¯å°æ•°è½¬åˆ†æ•°(æ— é™å¾ªç¯å°æ•°,å¾ªç¯ä½“é•¿åº¦=1):
    #0.8333...=0.5+0.333...    
    
    æ•´æ•°éƒ¨åˆ†,ç©ºéƒ¨,å¾ªç¯éƒ¨åˆ†=æ— é™å¾ªç¯å°æ•°è½¬åˆ†æ•°_æ‹†è§£(æ— é™å¾ªç¯å°æ•°,å¾ªç¯ä½“é•¿åº¦)
    0
    return "%s+%s+%s"%(æ•´æ•°éƒ¨åˆ†,ç©ºéƒ¨,å¾ªç¯éƒ¨åˆ†)


def è®¾ç½®ä½ çš„å¾ªç¯ä½“é•¿åº¦ç•Œé¢():
    å¾ªç¯ä½“é•¿åº¦=1
    while True:
        å›ç­”=input("\nè®¾ç½®ä½ çš„å¾ªç¯ä½“é•¿åº¦(Enter:é»˜è®¤å€¼)(é»˜è®¤å€¼:1):")
        if not å›ç­”:break       
        try:å¾ªç¯ä½“é•¿åº¦=int(å›ç­”)
        except:continue
        if å¾ªç¯ä½“é•¿åº¦<0:
            print("âŒå¾ªç¯ä½“é•¿åº¦ä¸èƒ½å°äº0")
            continue
        break
        
    return å¾ªç¯ä½“é•¿åº¦


def é—®ä½ çš„å°æ•°ç•Œé¢():
    while True:
        try:ä½ çš„å°æ•°=float(input("\nä½ çš„å°æ•°æ˜¯ï¼Ÿ\nç­”:"))
        except:continue
        break
        
    return ä½ çš„å°æ•°

def ç»™å‡ºè§£ç­”ç•Œé¢(ä½ çš„å°æ•°,å¾ªç¯ä½“é•¿åº¦):        
    try:print("\n%sçš„åˆ†æ•°å½¢å¼æ˜¯%s"%(ä½ çš„å°æ•°,å°æ•°è½¬åˆ†æ•°(ä½ çš„å°æ•°)))
    except Exception as e:
        print(e)
        return
        
    if å¾ªç¯ä½“é•¿åº¦:
        print("\n%s%s...çš„åˆ†æ•°å½¢å¼æ˜¯%s"%(ä½ çš„å°æ•°,str(ä½ çš„å°æ•°)[-å¾ªç¯ä½“é•¿åº¦:]*2,æ— é™å¾ªç¯å°æ•°è½¬åˆ†æ•°(ä½ çš„å°æ•°,å¾ªç¯ä½“é•¿åº¦)))
    

def æ˜¯å¦é€€å‡ºå½“å‰ç•Œé¢():
    if input("\n#Q/q to quit: ").lower()=="q":
        return True
    return False

def è¯•ç”¨():
    #print(åˆ†æ•°ç›¸åŠ å‡([1,5],[1,108],"-"))
    #input()
    
    å¾ªç¯ä½“é•¿åº¦=è®¾ç½®ä½ çš„å¾ªç¯ä½“é•¿åº¦ç•Œé¢()
    while True:   
        while True:
            ä½ çš„å°æ•°=é—®ä½ çš„å°æ•°ç•Œé¢()
            ç»™å‡ºè§£ç­”ç•Œé¢(ä½ çš„å°æ•°,å¾ªç¯ä½“é•¿åº¦)
            if æ˜¯å¦é€€å‡ºå½“å‰ç•Œé¢():break
            
        å¾ªç¯ä½“é•¿åº¦=è®¾ç½®ä½ çš„å¾ªç¯ä½“é•¿åº¦ç•Œé¢()
        if æ˜¯å¦é€€å‡ºå½“å‰ç•Œé¢():break


def åˆå§‹ç•Œé¢():
    while True:
        input("\nğŸ˜‹\nè¿™é‡Œæ˜¯åˆå§‹ç•Œé¢")
        if æ˜¯å¦é€€å‡ºå½“å‰ç•Œé¢():break
        è¯•ç”¨()

        
def main():
    åˆå§‹ç•Œé¢()



if __name__=="__main__":main()


#625/3276=1/5+1/108+...

#updated: 2022.7.10 18:46~
#ã€Štry_220624_0710_v11_å°æ•°è½¬åˆ†æ•°.pyã€‹
